{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%90%D0%BD%D0%BD%D0%B0/Desktop/GIT/06-notehub-nextjs/src/lib/api.ts"],"sourcesContent":["import axios from 'axios';\r\nimport type { Note } from '../types/note';\r\n\r\nconst BASE_URL = 'https://notehub-public.goit.study/api';\r\nconst token = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN;\r\n\r\nconst api = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: {\r\n    Authorization: token ? `Bearer ${token}` : '',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport interface NotesResponse {\r\n  docs: Note[];\r\n  totalDocs?: number;\r\n  limit?: number;\r\n  page?: number;\r\n  totalPages?: number;\r\n}\r\n\r\n// Тепер fetchNotes приймає параметри\r\nexport const fetchNotes = async ({\r\n  page = 1,\r\n  perPage = 12,\r\n  search = '',\r\n} = {}): Promise<NotesResponse> => {\r\n  const res = await api.get<{ notes: Note[]; totalDocs: number; limit: number; page: number; totalPages: number }>('/notes', {\r\n    params: { page, perPage, ...(search ? { search } : {}) },\r\n  });\r\n\r\n  return {\r\n    docs: res.data.notes,\r\n    totalDocs: res.data.totalDocs,\r\n    limit: res.data.limit,\r\n    page: res.data.page,\r\n    totalPages: res.data.totalPages,\r\n  };\r\n};\r\n\r\nexport const fetchNoteById = async (id: string): Promise<Note> => {\r\n  const res = await api.get<Note>(`/notes/${id}`);\r\n  return res.data;\r\n};\r\n\r\nexport const createNote = async (payload: { title: string; content?: string; tag?: string }): Promise<Note> => {\r\n  const res = await api.post<Note>('/notes', payload);\r\n  return res.data;\r\n};\r\n\r\nexport const deleteNote = async (id: string): Promise<void> => {\r\n  await api.delete(`/notes/${id}`);\r\n};"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAGA,MAAM,WAAW;AACjB,MAAM;AAEN,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,eAAe,uCAAQ,CAAC,OAAO,EAAE,OAAO,GAAG;QAC3C,gBAAgB;IAClB;AACF;AAWO,MAAM,aAAa,OAAO,EAC/B,OAAO,CAAC,EACR,UAAU,EAAE,EACZ,SAAS,EAAE,EACZ,GAAG,CAAC,CAAC;IACJ,MAAM,MAAM,MAAM,IAAI,GAAG,CAAwF,UAAU;QACzH,QAAQ;YAAE;YAAM;YAAS,GAAI,SAAS;gBAAE;YAAO,IAAI,CAAC,CAAC;QAAE;IACzD;IAEA,OAAO;QACL,MAAM,IAAI,IAAI,CAAC,KAAK;QACpB,WAAW,IAAI,IAAI,CAAC,SAAS;QAC7B,OAAO,IAAI,IAAI,CAAC,KAAK;QACrB,MAAM,IAAI,IAAI,CAAC,IAAI;QACnB,YAAY,IAAI,IAAI,CAAC,UAAU;IACjC;AACF;AAEO,MAAM,gBAAgB,OAAO;IAClC,MAAM,MAAM,MAAM,IAAI,GAAG,CAAO,CAAC,OAAO,EAAE,IAAI;IAC9C,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,MAAM,MAAM,IAAI,IAAI,CAAO,UAAU;IAC3C,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,IAAI,MAAM,CAAC,CAAC,OAAO,EAAE,IAAI;AACjC"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/NoteList/NoteList.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"NoteList-module__GnbIUq__button\",\n  \"content\": \"NoteList-module__GnbIUq__content\",\n  \"footer\": \"NoteList-module__GnbIUq__footer\",\n  \"link\": \"NoteList-module__GnbIUq__link\",\n  \"list\": \"NoteList-module__GnbIUq__list\",\n  \"listItem\": \"NoteList-module__GnbIUq__listItem\",\n  \"tag\": \"NoteList-module__GnbIUq__tag\",\n  \"title\": \"NoteList-module__GnbIUq__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%90%D0%BD%D0%BD%D0%B0/Desktop/GIT/06-notehub-nextjs/src/components/NoteList/NoteList.tsx"],"sourcesContent":["import React from 'react';\r\nimport Link from 'next/link';\r\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport type { Note } from '../../types/note';\r\nimport { deleteNote } from '../../lib/api';\r\nimport styles from './NoteList.module.css';\r\n\r\ninterface NoteListProps {\r\n  notes: Note[];\r\n}\r\n\r\nconst NoteList: React.FC<NoteListProps> = ({ notes }) => {\r\n  const queryClient = useQueryClient();\r\n\r\n  const deleteMutation = useMutation({\r\n    mutationFn: (id: string) => deleteNote(id),\r\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: ['notes'] }),\r\n  });\r\n\r\n  if (!notes.length) return <p>No notes found.</p>;\r\n\r\n  return (\r\n    <ul className={styles.list}>\r\n      {notes.map((note) => (\r\n        <li key={note.id} className={styles.listItem}>\r\n          <h2>{note.title}</h2>\r\n          <p>{note.content}</p>\r\n          <span>{note.tag}</span>\r\n          <Link href={`/notes/${note.id}`}>View details</Link>\r\n          <button onClick={() => deleteMutation.mutate(note.id)}>Delete</button>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default NoteList;"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAEA;AACA;;;;;;AAMA,MAAM,WAAoC,CAAC,EAAE,KAAK,EAAE;IAClD,MAAM,cAAc,IAAA,wMAAc;IAElC,MAAM,iBAAiB,IAAA,6LAAW,EAAC;QACjC,YAAY,CAAC,KAAe,IAAA,+HAAU,EAAC;QACvC,WAAW,IAAM,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAQ;YAAC;IACvE;IAEA,IAAI,CAAC,MAAM,MAAM,EAAE,qBAAO,8OAAC;kBAAE;;;;;;IAE7B,qBACE,8OAAC;QAAG,WAAW,gKAAM,CAAC,IAAI;kBACvB,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;gBAAiB,WAAW,gKAAM,CAAC,QAAQ;;kCAC1C,8OAAC;kCAAI,KAAK,KAAK;;;;;;kCACf,8OAAC;kCAAG,KAAK,OAAO;;;;;;kCAChB,8OAAC;kCAAM,KAAK,GAAG;;;;;;kCACf,8OAAC,0LAAI;wBAAC,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;kCAAE;;;;;;kCACjC,8OAAC;wBAAO,SAAS,IAAM,eAAe,MAAM,CAAC,KAAK,EAAE;kCAAG;;;;;;;eALhD,KAAK,EAAE;;;;;;;;;;AAUxB;uCAEe"}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%90%D0%BD%D0%BD%D0%B0/Desktop/GIT/06-notehub-nextjs/src/app/notes/%5Bid%5D/page.tsx"],"sourcesContent":["import { QueryClient, dehydrate } from '@tanstack/react-query';\r\nimport NoteListClient from '../../../components/NoteList/NoteList';\r\nimport { fetchNotes } from '../../../lib/api';\r\n\r\nexport default async function NotesPage() {\r\n  const queryClient = new QueryClient();\r\n\r\n  await queryClient.prefetchQuery({\r\n    queryKey: ['notes', { page: 1, perPage: 12, search: '' }],\r\n    queryFn: ({ queryKey }) => {\r\n      const [, { page, perPage, search }] = queryKey as [\r\n        string,\r\n        { page: number; perPage: number; search: string }\r\n      ];\r\n      return fetchNotes({ page, perPage, search });\r\n    },\r\n  });\r\n\r\n  const dehydratedState = dehydrate(queryClient);\r\n\r\n  return (\r\n    <div>\r\n      <h1>All Notes</h1>\r\n      <NoteListClient dehydratedState={dehydratedState} />\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;;;;;AAEe,eAAe;IAC5B,MAAM,cAAc,IAAI,4LAAW;IAEnC,MAAM,YAAY,aAAa,CAAC;QAC9B,UAAU;YAAC;YAAS;gBAAE,MAAM;gBAAG,SAAS;gBAAI,QAAQ;YAAG;SAAE;QACzD,SAAS,CAAC,EAAE,QAAQ,EAAE;YACpB,MAAM,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,GAAG;YAItC,OAAO,IAAA,+HAAU,EAAC;gBAAE;gBAAM;gBAAS;YAAO;QAC5C;IACF;IAEA,MAAM,kBAAkB,IAAA,wLAAS,EAAC;IAElC,qBACE,8OAAC;;0BACC,8OAAC;0BAAG;;;;;;0BACJ,8OAAC,qJAAc;gBAAC,iBAAiB;;;;;;;;;;;;AAGvC"}}]
}